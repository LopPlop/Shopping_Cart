@model List<Product>
@{
    ViewData["Title"] = "Products";
    List<Category> categoryList = ViewBag.Category;
}

<h1>Каталог товаров</h1>

<div class="album py-5 bg-light">
    <div class="container">
        <div class="row row-cols-2 row-cols-sm-3 row-cols-md-4 g-4">
            @foreach (var item in Model)
            {
                <div class="col">
                    <div class="card shadow-lg">
                        <svg class="bd-placeholder-img card-img-top" width="100%" height="0" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="true">
                            <img src="../../pictures/@item.Image" width="100%" height="100%">
                            <text x="50%" y="50%" fill="#eceeef" dy=".3em"><a class="btn btn-light" asp-action="ViewMore" asp-route-id="@item.Id">@item.Name</a></text>
                        </svg>
                        <div class="card-body">
                            <p class="card-text">@item.ShortDescription</p>
                            <div class="align-content-end">
                                <p>@item.Price руб.</p>
                                <a class="btn btn-sm btn-outline-warning" asp-controller="Home" asp-action="ViewByCategory" asp-route-id="@categoryList.First(i => i.Id == item.CategoryId).Id">
                                    <small class="text-dark">@categoryList.First(i => i.Id == item.CategoryId).Name</small>
                                </a>
                                <a class="btn btn-sm btn-outline-warning" asp-controller="Cart" asp-action="Add" asp-route-id="@item.Id">
                                    <img src="../../pictures/cart.png" alt="" width="20" height="20">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
